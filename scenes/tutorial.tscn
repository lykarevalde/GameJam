[gd_scene load_steps=19 format=3 uid="uid://er4cr1nu4dri"]

[ext_resource type="Texture2D" uid="uid://l5axf47yylfg" path="res://assets/interior_tileset_placeholder.png" id="1_8ho6b"]
[ext_resource type="Script" uid="uid://b6b8u4liwgwwh" path="res://scripts/tutorial.gd" id="1_gbqnl"]
[ext_resource type="Texture2D" uid="uid://dh7624vearbdr" path="res://assets/tileset/tileset.png" id="2_6yjpi"]
[ext_resource type="FontFile" uid="uid://cde05rfkpag7i" path="res://assets/fonts/Minecraft.ttf" id="2_nlqja"]
[ext_resource type="PackedScene" uid="uid://cxwfxl20tdd6" path="res://scenes/krysta_player.tscn" id="3_cq4me"]
[ext_resource type="PackedScene" uid="uid://d0o8lmhmxg65u" path="res://scenes/furniture/horse.tscn" id="4_6yjpi"]
[ext_resource type="PackedScene" uid="uid://cv3bjv8xhr455" path="res://scenes/enemy.tscn" id="8_ckvwl"]
[ext_resource type="PackedScene" uid="uid://btf4w0qn217h6" path="res://scenes/npc.tscn" id="9_nlqja"]
[ext_resource type="PackedScene" uid="uid://dcskmhopii3hc" path="res://scenes/loiter_area.tscn" id="10_0epgs"]
[ext_resource type="PackedScene" uid="uid://bfuejy3kyaonp" path="res://scenes/energy scene.tscn" id="10_g2equ"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4kmhl"]
texture = ExtResource("1_8ho6b")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
15:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
14:7/0 = 0
15:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
12:8/0 = 0
13:8/0 = 0
14:8/0 = 0
15:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
13:9/0 = 0
14:9/0 = 0
15:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
6:10/0 = 0
7:10/0 = 0
10:10/0 = 0
11:10/0 = 0
12:10/0 = 0
13:10/0 = 0
14:10/0 = 0
15:10/0 = 0
0:11/0 = 0
1:11/0 = 0
3:11/0 = 0
4:11/0 = 0
7:11/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
14:11/0 = 0
15:11/0 = 0
0:12/0 = 0
1:12/0 = 0
7:12/0 = 0
8:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
13:12/0 = 0
14:12/0 = 0
15:12/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
13:13/0 = 0
14:13/0 = 0
15:13/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gbqnl"]
texture = ExtResource("2_6yjpi")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
8:1/0 = 0
9:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
0:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
14:2/0 = 0
15:2/0 = 0
16:2/0 = 0
17:2/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
17:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
15:4/0 = 0
19:4/0 = 0
0:5/0 = 0
1:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
19:5/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
19:6/0 = 0

[sub_resource type="TileSet" id="TileSet_cq4me"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_4kmhl")
sources/1 = SubResource("TileSetAtlasSource_gbqnl")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_ckvwl"]
normal = Vector2(-0.006535808, 0.99997866)
distance = -51.005447

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_6yjpi"]
distance = 25.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_gbqnl"]
distance = 104.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_nlqja"]

[sub_resource type="Curve2D" id="Curve2D_g2equ"]
_data = {
"points": PackedVector2Array(0, -0.8321196, 0, 0.8321196, 587, 391, 0, 0, 0, 0, 371, 392)
}
point_count = 2

[node name="Tutorial" type="Node2D"]
position = Vector2(-476, -342)
script = ExtResource("1_gbqnl")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="InstructionPrompt" type="Sprite2D" parent="CanvasLayer"]
position = Vector2(-476, -342)

[node name="PressF" type="Label" parent="CanvasLayer"]
offset_left = -77.0
offset_top = -50.0
offset_right = -37.0
offset_bottom = -27.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("2_nlqja")
theme_override_font_sizes/font_size = 15

[node name="skip" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("2_nlqja")

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(-17, 25)
tile_set = SubResource("TileSet_cq4me")
format = 2
layer_0/tile_data = PackedInt32Array(720909, 458753, 6, 720910, 458753, 6, 720911, 458753, 6, 720912, 458753, 6, 720913, 458753, 6, 720914, 458753, 6, 655378, 458753, 5, 655377, 458753, 5, 655376, 458753, 5, 655375, 458753, 5, 655374, 458753, 5, 655373, 458753, 5, 589837, 589825, 5, 589836, 589825, 5, 655372, 458753, 5, 720908, 458753, 6, 524301, 589825, 4, 524300, 589825, 4, 524302, 589825, 4, 524303, 589825, 4, 524304, 589825, 4, 524305, 589825, 4, 589842, 589825, 5, 589841, 589825, 5, 589840, 589825, 5, 589839, 589825, 5, 589838, 589825, 5, 524306, 589825, 4, 786444, 786433, 3, 786445, 786433, 3, 786446, 786433, 3, 786447, 786433, 3, 786448, 786433, 3, 786449, 786433, 3, 786450, 786433, 3, 720907, 786433, 3, 655371, 786433, 3, 589835, 786433, 3, 524299, 786433, 3, 720915, 786433, 3, 655379, 786433, 3, 589843, 786433, 3, 524307, 786433, 3, 458764, 786433, 3, 458765, 786433, 3, 458766, 786433, 3, 458767, 786433, 3, 458768, 786433, 3, 458769, 786433, 3, 458770, 786433, 3, 458763, 786433, 3, 786451, 786433, 3, 458771, 786433, 3, 786443, 786433, 3, 458772, 786433, 3, 524308, 786433, 3, 589844, 786433, 3, 655380, 786433, 3, 851987, 720897, 3, 720916, 786433, 3, 786452, 786433, 3, 851988, 720897, 3, 851986, 720897, 3, 851985, 720897, 3, 851984, 720897, 3, 851983, 720897, 3, 851982, 720897, 3, 851981, 720897, 3, 851980, 720897, 3, 851979, 720897, 3, 851978, 720897, 3, 720906, 786433, 3, 655370, 786433, 3, 589834, 786433, 3, 524298, 786433, 3, 458762, 786433, 3, 393226, 786433, 3, 393227, 786433, 3, 393228, 786433, 3, 393229, 786433, 3, 393230, 786433, 3, 393231, 786433, 3, 393232, 786433, 3, 393233, 786433, 3, 393234, 786433, 3, 393235, 786433, 3, 393236, 786433, 3, 327689, 720897, 3, 327690, 720897, 3, 327691, 720897, 3, 327692, 720897, 3, 327693, 720897, 3, 327694, 720897, 3, 327695, 720897, 3, 327696, 720897, 3, 327697, 720897, 3, 327698, 720897, 3, 327699, 720897, 3, 327700, 720897, 3, 327701, 720897, 3, 393237, 720897, 3, 458773, 720897, 3, 524309, 720897, 3, 589845, 720897, 3, 655381, 720897, 3, 720917, 720897, 3, 786453, 720897, 3, 851989, 720897, 3, 851990, 720897, 3, 786454, 720897, 3, 720918, 720897, 3, 655382, 720897, 3, 589846, 720897, 3, 524310, 720897, 3, 458774, 720897, 3, 393238, 720897, 3, 327702, 720897, 3, 327703, 720897, 3, 393239, 720897, 3, 458775, 720897, 3, 524311, 720897, 3, 589847, 720897, 3, 655383, 720897, 3, 720920, 720897, 3, 786456, 720897, 3, 851992, 720897, 3, 851991, 720897, 3, 786455, 720897, 3, 720919, 720897, 3, 655384, 720897, 3, 589848, 720897, 3, 524312, 720897, 3, 458776, 720897, 3, 393240, 720897, 3, 327704, 720897, 3, 262168, 720897, 3, 262167, 720897, 3, 262166, 720897, 3, 262165, 720897, 3, 262164, 720897, 3, 262163, 720897, 3, 262162, 720897, 3, 262161, 720897, 3, 262160, 720897, 3, 262159, 720897, 3, 262158, 720897, 3, 262157, 720897, 3, 262156, 720897, 3, 262155, 720897, 3, 262154, 720897, 3, 262153, 720897, 3, 262152, 720897, 3, 196632, 720897, 3, 196631, 720897, 3, 196630, 720897, 3, 196629, 720897, 3, 196628, 720897, 3, 196627, 720897, 3, 196626, 720897, 3, 196625, 720897, 3, 196624, 720897, 3, 196623, 720897, 3, 196622, 720897, 3, 196621, 720897, 3, 196620, 720897, 3, 196619, 720897, 3, 196618, 720897, 3, 196617, 720897, 3, 196616, 720897, 3, 196615, 720897, 3, 196614, 720897, 3, 786442, 720897, 3, 851977, 720897, 3, 786441, 720897, 3, 720905, 720897, 3, 655369, 720897, 3, 589833, 720897, 3, 524297, 720897, 3, 458761, 720897, 3, 393225, 720897, 3, 327688, 720897, 3, 393224, 720897, 3, 458760, 720897, 3, 524296, 720897, 3, 589832, 720897, 3, 655368, 720897, 3, 720904, 720897, 3, 786440, 720897, 3, 851976, 720897, 3, 851975, 720897, 3, 851974, 720897, 3, 786438, 720897, 3, 720902, 720897, 3, 655366, 720897, 3, 589830, 720897, 3, 524294, 720897, 3, 458758, 720897, 3, 458759, 720897, 3, 393223, 720897, 3, 327687, 720897, 3, 327686, 720897, 3, 262150, 720897, 3, 262151, 720897, 3, 393222, 720897, 3, 524295, 720897, 3, 589831, 720897, 3, 655367, 720897, 3, 720903, 720897, 3, 786439, 720897, 3, 917510, 720897, 3, 917511, 720897, 3, 917526, 720897, 3, 917527, 720897, 3, 917528, 720897, 3, 917525, 720897, 3, 917524, 720897, 3, 917523, 720897, 3, 917522, 720897, 3, 917521, 720897, 3, 917520, 720897, 3, 917519, 720897, 3, 917518, 720897, 3, 917517, 720897, 3, 917516, 720897, 3, 917515, 720897, 3, 917514, 720897, 3, 917513, 720897, 3, 917512, 720897, 3, 983046, 720897, 3, 983047, 720897, 3, 983048, 720897, 3, 983049, 720897, 3, 983050, 720897, 3, 983051, 720897, 3, 983060, 720897, 3, 983061, 720897, 3, 983064, 720897, 3, 983063, 720897, 3, 983062, 720897, 3, 983059, 720897, 3, 983058, 720897, 3, 983057, 720897, 3, 983056, 720897, 3, 983055, 720897, 3, 983054, 720897, 3, 983053, 720897, 3, 983052, 720897, 3, 1048582, 720897, 3, 1048583, 720897, 3, 1048584, 720897, 3, 1048585, 720897, 3, 1048586, 720897, 3, 1048587, 720897, 3, 1048588, 720897, 3, 1048589, 720897, 3, 1048590, 720897, 3, 1048591, 720897, 3, 1048592, 720897, 3, 1048593, 720897, 3, 1048594, 720897, 3, 1048595, 720897, 3, 1048596, 720897, 3, 1048597, 720897, 3, 1048598, 720897, 3, 1048599, 720897, 3, 1048600, 720897, 3)

[node name="furniture" type="Node2D" parent="."]
position = Vector2(459, 378)

[node name="Horse" parent="furniture" instance=ExtResource("4_6yjpi")]
position = Vector2(-41, -26)
collision_mask = 17

[node name="Player" parent="." node_paths=PackedStringArray("energy_sprite") instance=ExtResource("3_cq4me")]
position = Vector2(514, 345)
collision_mask = 8
energy_sprite = NodePath("../EnergySystem/UI/Control/EnergySprite")

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -18)
zoom = Vector2(4, 4)

[node name="ghost world borders" type="StaticBody2D" parent="."]
collision_layer = 8

[node name="up border" type="CollisionShape2D" parent="ghost world borders"]
position = Vector2(478, 309)
shape = SubResource("WorldBoundaryShape2D_ckvwl")

[node name="down border" type="CollisionShape2D" parent="ghost world borders"]
position = Vector2(478, 367)
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_ckvwl")

[node name="left border" type="CollisionShape2D" parent="ghost world borders"]
position = Vector2(323, 344)
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_6yjpi")

[node name="right border" type="CollisionShape2D" parent="ghost world borders"]
position = Vector2(715, 348)
rotation = 4.712389
shape = SubResource("WorldBoundaryShape2D_gbqnl")

[node name="furniture room borders" type="StaticBody2D" parent="."]
position = Vector2(459, 378)
collision_layer = 16

[node name="right room border" type="CollisionShape2D" parent="furniture room borders"]
position = Vector2(134, -32)
rotation = -1.5707963
shape = SubResource("WorldBoundaryShape2D_nlqja")

[node name="up room border" type="CollisionShape2D" parent="furniture room borders"]
position = Vector2(17, -99)
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_nlqja")

[node name="down room border" type="CollisionShape2D" parent="furniture room borders"]
position = Vector2(20, 24)
shape = SubResource("WorldBoundaryShape2D_nlqja")

[node name="left room border" type="CollisionShape2D" parent="furniture room borders"]
position = Vector2(-94, -38)
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_nlqja")

[node name="Enemy" parent="." node_paths=PackedStringArray("furniture_root") instance=ExtResource("8_ckvwl")]
visible = false
position = Vector2(390, 375)
furniture_root = NodePath("../furniture")

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_g2equ")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(587, 391)
rotation = 3.1369631
rotates = false
loop = false

[node name="NPC" parent="Path2D/PathFollow2D" groups=["npcs"] instance=ExtResource("9_nlqja")]
rotation = 3.1415927

[node name="Node2D" type="Node2D" parent="."]

[node name="LoiterArea" parent="Node2D" instance=ExtResource("10_0epgs")]
position = Vector2(529, 392)

[node name="LoiterArea2" parent="Node2D" instance=ExtResource("10_0epgs")]
position = Vector2(440, 392)

[node name="EnergySystem" parent="." instance=ExtResource("10_g2equ")]

[editable path="EnergySystem"]
